{"version":3,"sources":["uni-app:///main.js","webpack:///A:/曹珂俭/小程序/test2/subpkg/myLikePage/myLikePage.vue?27f3","webpack:///A:/曹珂俭/小程序/test2/subpkg/myLikePage/myLikePage.vue?bf37","webpack:///A:/曹珂俭/小程序/test2/subpkg/myLikePage/myLikePage.vue?1596","webpack:///A:/曹珂俭/小程序/test2/subpkg/myLikePage/myLikePage.vue?3c3d","uni-app:///subpkg/myLikePage/myLikePage.vue","webpack:///A:/曹珂俭/小程序/test2/subpkg/myLikePage/myLikePage.vue?182c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","customUI","data","myLikeList","methods","getData","uni","title","db","console","gotoDetail","url","clicklike","success","remove","utilsObj","icon","onLoad","onShow"],"mappings":"qJAAA,MAE2D,MAC3D,aACA,YAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAwrB,eAAG,G,uJC2C3rB,eAEA,GADA,UACA,2BACAC,eACA,EACA,CACAC,gBACA,OACAC,gBAGAC,SACAC,mBAAA,WACAC,eACAC,eAEA,oCACA,0EACA,gCACA,0GACAC,uEACAC,eACA,2BACAH,oBAGAI,uBACAJ,cACAK,+DAIAC,0BAAA,yHACAN,aACAC,gBACAM,oBACA,cACA,gBACA,sBAEAL,6FACAM,SACAC,yCAEA,iCACA,UACAT,aACAC,eACAS,iBAIA,0CApBA,KAuBAC,kBACA,8BACA,aACA,gBAEAC,kBACA,oCACA,GACAZ,qBAIA,c,8EC9GA,yHAAuxC,eAAG,G","file":"subpkg/myLikePage/myLikePage.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './subpkg/myLikePage/myLikePage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myLikePage.vue?vue&type=template&id=4ffd5f0c&\"\nvar renderjs\nimport script from \"./myLikePage.vue?vue&type=script&lang=js&\"\nexport * from \"./myLikePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myLikePage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/myLikePage/myLikePage.vue\"\nexport default component.exports","export * from \"-!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myLikePage.vue?vue&type=template&id=4ffd5f0c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myLikePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myLikePage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"wrapper\">\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"blogItem\" v-for=\"(item,index) in myLikeList\" :key=\"index\">\r\n\t\t\t\t<view class=\"head\">\r\n\t\t\t\t\t<view class=\"userinfo\">\r\n\t\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t:src=\"item.article_id[0].user_touxiang?item.article_id[0].user_touxiang:'../../static/morentouxiang.jpg'\"\r\n\t\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"name\">{{item.article_id[0].user_nicheng||item.article_id[0].user_id}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"title\" @click=\"gotoDetail(item)\">\r\n\t\t\t\t\t\t{{item.article_id[0].title}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text\" @click=\"gotoDetail(item)\" v-if=\"item.article_id[0].description\">\r\n\t\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t\t{{item.article_id[0].description}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<view class=\"box\"><text class=\"iconfont icon-a-27-liulan\"></text>\r\n\t\t\t\t\t\t<text>{{item.article_id[0].view_count}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box\" @click=\"gotoDetail(item)\"><text class=\"iconfont icon-a-5-xinxi\"></text>\r\n\t\t\t\t\t\t<text>{{item.article_id[0].comment_count&&item.article_id[0].comment_count>0?item.article_id[0].comment_count:\"评论\"}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box\" :class=\"item.isLike?' active':'active'\" @click=\"clicklike(item.user_nicheng,item,index)\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-a-106-xihuan\"></text>\r\n\t\t\t\t\t\t<text>{{item.article_id[0].like_count?item.article_id[0].like_count:\"点赞\"}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst db = uniCloud.database()\r\n\tconst dbCmd = db.command\r\n\tconst utilsObj = uniCloud.importObject('utilsObj', {\r\n\t\tcustomUI: true\r\n\t})\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmyLikeList: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetData() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'正在加载'\r\n\t\t\t\t})\r\n\t\t\t\tconst name = uni.getStorageSync('name').name\r\n\t\t\t\tconst liketemp = db.collection('articlelike').where(`user_id=='${name}'`).getTemp()\r\n\t\t\t\tconst artileTemp = db.collection('article').field(\r\n\t\t\t\t\t\"_id,title,description,like_count,user_nicheng,user_touxiang,user_id,view_count,comment_count\").getTemp()\r\n\t\t\t\tdb.collection(liketemp, artileTemp).orderBy('publish_date desc').get().then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.myLikeList = res.result.data\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgotoDetail(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpkg/blogDetail/blogDetail?id=' + item.article_id[0]._id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//取消高亮\r\n\t\t\tasync clicklike(user_nicheng,item,index) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:\"确认取消点赞吗\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\tconst user_id = item.user_id\r\n\t\t\t\t\t\t\tconst id = item.article_id[0]._id\r\n\t\t\t\t\t\t\t// 取消操作\r\n\t\t\t\t\t\t\tdb.collection('articlelike').where(`article_id=='${id}' &&user_id =='${user_id}'`)\r\n\t\t\t\t\t\t\t\t.remove()\r\n\t\t\t\t\t\t\tutilsObj.operation('article', \"like_count\", id, -1)\r\n\t\t\t\t\t\t\t// 前端删除数组\r\n\t\t\t\t\t\t\tthis.myLikeList.splice(index,1)\r\n\t\t\t\t\t\t}else if(res.cancel){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'用户取消操作',\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tconst name = uni.getStorageSync('name').name\r\n\t\t\tconst db = uniCloud.database()\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst name = uni.getStorageSync('name').name\r\n\t\t\tif(!name){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.wrapper {\r\n\t\t.content {\r\n\t\t\tbackground-color: #fffae5;\r\n\t\t\theight: 100vh;\r\n\t\t\tpadding: 25rpx;\r\n\r\n\t\t\t.blogItem {\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\tmargin-bottom: 35rpx;\r\n\r\n\t\t\t\t.head {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.userinfo {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t\t.avatar {\r\n\t\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.name {\r\n\t\t\t\t\t\t\tcolor: #9e6d38;\r\n\t\t\t\t\t\t\tletter-spacing: 1px;\r\n\t\t\t\t\t\t\tpadding-left: 25rpx;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.time {\r\n\t\t\t\t\t\t\tcolor: #888;\r\n\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.more {\r\n\t\t\t\t\t\tpadding: 5rpx;\r\n\r\n\t\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\t\tfont-size: 50rpx;\r\n\t\t\t\t\t\t\tcolor: #888;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.body {\r\n\t\t\t\t\tpadding: 50rpx 0 30rpx;\r\n\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tletter-spacing: 1px;\r\n\t\t\t\t\t\ttext-align: justify;\r\n\t\t\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t.time {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.text {\r\n\t\t\t\t\t\tpadding-top: 10rpx;\r\n\t\t\t\t\t\tpadding-bottom: 10rpx;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\ttext-align: justify;\r\n\t\t\t\t\t\tcolor: #888;\r\n\r\n\t\t\t\t\t\t.t {\r\n\t\t\t\t\t\t\ttext-overflow: -o-ellipsis-lastline;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\t\tline-clamp: 2;\r\n\t\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.piclist {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tpadding-top: 20rpx;\r\n\r\n\t\t\t\t\t\t.pic {\r\n\t\t\t\t\t\t\twidth: 225rpx;\r\n\t\t\t\t\t\t\theight: 225rpx;\r\n\t\t\t\t\t\t\tmargin-right: 6rpx;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&:first-child {\r\n\t\t\t\t\t\t\t\tborder-radius: 20rpx 0 0 20rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\t\tborder-radius: 0 20rpx 20rpx 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.only {\r\n\t\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\r\n\t\t\t\t\t.box {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tpadding: 15rpx 0 5rpx;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\t\t\tpadding-right: 10rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.active {\r\n\t\t\t\t\t\tcolor: #9e6d38;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myLikePage.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../All tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myLikePage.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}