(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/signin/signin"],{100:function(e,n,t){"use strict";(function(e){var n=t(3);t(25),t(26);n(t(24));var i=n(t(101));wx.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t(1)["createPage"])},101:function(e,n,t){"use strict";t.r(n);var i=t(102),s=t(104);for(var o in s)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return s[e]}))}(o);t(106);var r,a=t(43),u=Object(a["default"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);u.options.__file="subpkg/signin/signin.vue",n["default"]=u.exports},102:function(e,n,t){"use strict";t.r(n);var i=t(103);t.d(n,"render",(function(){return i["render"]})),t.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),t.d(n,"components",(function(){return i["components"]}))},103:function(e,n,t){"use strict";var i;t.r(n),t.d(n,"render",(function(){return s})),t.d(n,"staticRenderFns",(function(){return r})),t.d(n,"recyclableRender",(function(){return o})),t.d(n,"components",(function(){return i}));try{i={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,262))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var e=this,n=e.$createElement;e._self._c},o=!1,r=[];s._withStripped=!0},104:function(e,n,t){"use strict";t.r(n);var i=t(105),s=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=s.a},105:function(e,n,t){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{isTrue1:!1,isTrue2:!1,text1:"用户名为3-6个字符",text2:"密码最少为6个字符",isText1:!1,isText2:!1,isshowZhuce:!0,loginUsername:"",loginPassword:"",newpassword:"",isTrue11:!1,isTrue22:!1,username:"",password:"",enrollinfo:"enroll",isShowEnroll:!0,newslist:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},methods:{back:function(){e.switchTab({url:"/pages/my/my"})},close:function(){this.isshowZhuce=!this.isshowZhuce},submit:function(){var n=this;if(""==this.loginUsername)return e.showToast({title:"用户名不能为空",icon:"none"}),void(this.isTrue1=!0);""!=this.loginPassword?t.database().collection("userinfo").where({name:this.loginUsername}).get().then((function(t){if(console.log("查询结果",t.result),n.newpassword=t.result.data[0].password,n.newpassword==n.loginPassword){e.showToast({title:"登录成功！",icon:"none"}),e.showLoading({title:"正在登录"});setTimeout((function(){e.hideLoading();e.reLaunch({url:"/pages/my/my?name="+n.loginUsername})}),1e3)}else e.showToast({title:"密码错误!",icon:"none"}),n.isTrue2=!0})).catch((function(n){e.showToast({title:"账号不存在",icon:"none"})})):e.showToast({title:"密码不能为空",icon:"none"})},gotologin:function(){this.isshowZhuce=!this.isshowZhuce},enroll:function(){var n=this;return""==this.username?(this.isTrue11=!0,void e.showToast({title:"用户名不能为空",icon:"none"})):""==this.password?(this.isTrue22=!0,void e.showToast({title:"密码不能为空",icon:"none"})):void(0==this.isTrue11&&0==this.isText1&&0==this.isTrue22&&0==this.isText2&&t.database().collection("userinfo").where({name:this.username}).get().then((function(t){t.result.data[0].name==n.username&&(n.isTrue11=!0,e.showToast({title:"这个账号已经注册过了",icon:"none"}))})).catch((function(i){n.isTrue11=!1,t.callFunction({name:"enroll",data:{name:n.username,password:n.password,course:n.newslist,touxiang:"https://mp-eaea5aba-f234-4a78-9bab-fac0fbaedf79.cdn.bspapp.com/cloudstorage/4dd9cac3-b07f-4942-a976-6f64fe37755d.jpg"}}).then((function(t){console.log(t),e.showToast({title:"注册成功"}),n.isShowEnroll=!1}))})))},Inusername:function(e){if(this.username=e.detail.value,e.detail.value.length<2||e.detail.value.length>6)return this.isTrue11=!0,void(this.isText1=!0);(e.detail.value.length>=2||e.detail.value.length<=6||0==e.detail.value.length)&&(this.isTrue11=!1,this.isText1=!1)},inputname:function(e){this.loginUsername=e.detail.value,0!==e.detail.value.length&&(this.isTrue1=!1)},inputpassword:function(e){this.loginPassword=e.detail.value,0==e.detail.value.length&&(this.isTrue2=!1)},Inpassword:function(e){""==e.detail.value&&(this.isTrue22=!1,this.isText2=!1),e.detail.value.length>5?(this.isText2=!1,this.isTrue22=!1):(this.isText2=!0,this.isTrue22=!0),this.password=e.detail.value},dianji:function(){this.isshowZhuce=!this.isshowZhuce}}};n.default=i}).call(this,t(1)["default"],t(26)["default"])},106:function(e,n,t){"use strict";t.r(n);var i=t(107),s=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=s.a},107:function(e,n,t){}},[[100,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/subpkg/signin/signin.js.map