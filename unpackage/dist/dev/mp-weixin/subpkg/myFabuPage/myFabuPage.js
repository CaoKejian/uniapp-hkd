(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/myFabuPage/myFabuPage"],{169:function(e,t,n){"use strict";(function(e){var t=n(3);n(25),n(26);t(n(24));var r=t(n(170));wx.__webpack_require_UNI_MP_PLUGIN__=n,e(r.default)}).call(this,n(1)["createPage"])},170:function(e,t,n){"use strict";n.r(t);var r=n(171),a=n(173);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n(175);var c,i=n(43),u=Object(i["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],c);u.options.__file="subpkg/myFabuPage/myFabuPage.vue",t["default"]=u.exports},171:function(e,t,n){"use strict";n.r(t);var r=n(172);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},172:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return c})),n.d(t,"recyclableRender",(function(){return o})),n.d(t,"components",(function(){return r}));try{r={myBlogItem:function(){return n.e("components/my-blogItem/my-blogItem").then(n.bind(null,376))}}}catch(i){if(-1===i.message.indexOf("Cannot find module")||-1===i.message.indexOf(".vue"))throw i;console.error(i.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement;e._self._c},o=!1,c=[];a._withStripped=!0},173:function(e,t,n){"use strict";n.r(t);var r=n(174),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},174:function(e,t,n){"use strict";(function(e,r){var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(27)),c=a(n(17)),i=a(n(29)),u=e.database(),s=u.command,l={data:function(){return{myList:[],item:[],artNum:0,artLike:0}},methods:{getTotal:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.getStorageSync("name").name,t.next=3,u.collection("article").where('user_id=="'.concat(n,'"')).groupBy("user_id").groupField("sum(like_count) as totalScore").get();case 3:a=t.sent,0==a.result.data.length?e.artLike=0:0!==a.result.data.length&&(e.artLike=a.result.data[0].totalScore);case 5:case"end":return t.stop()}}),t)})))()},islike:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.collection("articlelike").where("article_id=='".concat(e.item._id,"' &&user_id =='").concat(e.user_id,"'")).count();case 2:n=t.sent,console.log("???",n);case 4:case"end":return t.stop()}}),t)})))()},getdate:function(){var e=this,t=r.getStorageSync("name").name;u.collection("article").where('user_id=="'.concat(t,'"')).orderBy("publish_date desc").skip(this.myList.length).limit(5).get().then(function(){var n=(0,i.default)(o.default.mark((function n(a){var i,l,d;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("ceshi",a),r.hideLoading(),i=[],e.myList,0==a.result.data.length&&(e.uniloading="noMore"),l=[].concat((0,c.default)(e.myList),(0,c.default)(a.result.data)),!t){n.next=14;break}return l.forEach((function(e){i.push(e._id)})),console.log(i),n.next=11,u.collection("articlelike").where({article_id:s.in(i),user_id:t}).get();case 11:d=n.sent,console.log(d),d.result.data.forEach((function(e){var t=l.findIndex((function(t){return e.article_id==t._id}));console.log(t),l[t].isLike=!0}));case 14:e.myList=l;case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},onLoad:function(){r.getStorageSync("name").name;this.getTotal(),this.getdate(),this.islike()},onShow:function(){var e=r.getStorageSync("name").name;e||r.navigateBack({})}};t.default=l}).call(this,n(26)["default"],n(1)["default"])},175:function(e,t,n){"use strict";n.r(t);var r=n(176),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},176:function(e,t,n){}},[[169,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/subpkg/myFabuPage/myFabuPage.js.map