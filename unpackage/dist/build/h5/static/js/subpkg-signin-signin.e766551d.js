(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subpkg-signin-signin"],{"2ec8":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("7e7d").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrapper"},[t.isshowZhuce?i("v-uni-view",{staticClass:"drop"},[i("v-uni-view",{staticClass:"top1"},[i("uni-icons",{attrs:{type:"left",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"login-logo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("Login")])],1),i("v-uni-view",{staticClass:"validate"},[i("v-uni-input",{class:t.isTrue1?"active":"active-no",attrs:{type:"text",placeholder:"用户名"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputname.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"text1"}),i("v-uni-input",{class:t.isTrue2?"active":"active-no",attrs:{type:"text",placeholder:"密码"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputpassword.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"text2"})],1),i("v-uni-button",{staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("Login")]),i("v-uni-view",{staticClass:"sign"},[i("v-uni-text",[t._v("还没有注册？")]),i("v-uni-text",{staticClass:"dianji",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dianji.apply(void 0,arguments)}}},[t._v("点击注册")])],1)],1):i("v-uni-view",{staticClass:"drop"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-text",{staticClass:"login-logo"},[t._v("enroll")]),i("uni-icons",{attrs:{type:"closeempty",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"validate"},[i("v-uni-input",{class:t.isTrue11?"active":"active-no",attrs:{type:"text",placeholder:"用户名"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.Inusername.apply(void 0,arguments)}}}),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.isText1,expression:"isText1"}],staticClass:"text1"},[t._v(t._s(t.text1))]),i("v-uni-input",{class:t.isTrue22?"active":"active-no",attrs:{type:"text",placeholder:"密码"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.Inpassword.apply(void 0,arguments)}}}),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.isText2,expression:"isText2"}],staticClass:"text2"},[t._v(t._s(t.text2))])],1),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:t.isShowEnroll,expression:"isShowEnroll"}],staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.enroll.apply(void 0,arguments)}}},[t._v("enroll")]),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!t.isShowEnroll,expression:"!isShowEnroll"}],staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotologin.apply(void 0,arguments)}}},[t._v("去登陆")]),i("v-uni-text",{staticClass:"try"},[t._v("账号/密码忘记？请联系管理员vx：YYik021")])],1)],1)},s=[]},"2f50":function(t,e,i){var n=i("b26a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("66087af2",n,!0,{sourceMap:!1,shadowMode:!1})},5931:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{isTrue1:!1,isTrue2:!1,text1:"用户名为3-6个字符",text2:"密码最少为6个字符",isText1:!1,isText2:!1,isshowZhuce:!0,loginUsername:"",loginPassword:"",newpassword:"",isTrue11:!1,isTrue22:!1,username:"",password:"",enrollinfo:"enroll",isShowEnroll:!0,newslist:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},methods:{back:function(){uni.switchTab({url:"/pages/my/my"})},close:function(){this.isshowZhuce=!this.isshowZhuce},submit:function(){var e=this;if(""==this.loginUsername)return uni.showToast({title:"用户名不能为空",icon:"none"}),void(this.isTrue1=!0);""!=this.loginPassword?t.database().collection("userinfo").where({name:this.loginUsername}).get().then((function(t){if(console.log("查询结果",t.result),e.newpassword=t.result.data[0].password,e.newpassword==e.loginPassword){uni.showToast({title:"登录成功！",icon:"none"}),uni.showLoading({title:"正在登录"});setTimeout((function(){uni.hideLoading();uni.reLaunch({url:"/pages/my/my?name="+e.loginUsername})}),1e3)}else uni.showToast({title:"密码错误!",icon:"none"}),e.isTrue2=!0})).catch((function(t){uni.showToast({title:"账号不存在",icon:"none"})})):uni.showToast({title:"密码不能为空",icon:"none"})},gotologin:function(){this.isshowZhuce=!this.isshowZhuce},enroll:function(){var e=this;return""==this.username?(this.isTrue11=!0,void uni.showToast({title:"用户名不能为空",icon:"none"})):""==this.password?(this.isTrue22=!0,void uni.showToast({title:"密码不能为空",icon:"none"})):void(0==this.isTrue11&&0==this.isText1&&0==this.isTrue22&&0==this.isText2&&t.database().collection("userinfo").where({name:this.username}).get().then((function(t){t.result.data[0].name==e.username&&(e.isTrue11=!0,uni.showToast({title:"这个账号已经注册过了",icon:"none"}))})).catch((function(i){e.isTrue11=!1,t.callFunction({name:"enroll",data:{name:e.username,password:e.password,course:e.newslist,touxiang:"https://mp-eaea5aba-f234-4a78-9bab-fac0fbaedf79.cdn.bspapp.com/cloudstorage/4dd9cac3-b07f-4942-a976-6f64fe37755d.jpg"}}).then((function(t){console.log(t),uni.showToast({title:"注册成功"}),e.isShowEnroll=!1}))})))},Inusername:function(t){if(this.username=t.detail.value,t.detail.value.length<2||t.detail.value.length>6)return this.isTrue11=!0,void(this.isText1=!0);(t.detail.value.length>=2||t.detail.value.length<=6||0==t.detail.value.length)&&(this.isTrue11=!1,this.isText1=!1)},inputname:function(t){this.loginUsername=t.detail.value,0!==t.detail.value.length&&(this.isTrue1=!1)},inputpassword:function(t){this.loginPassword=t.detail.value,0==t.detail.value.length&&(this.isTrue2=!1)},Inpassword:function(t){""==t.detail.value&&(this.isTrue22=!1,this.isText2=!1),t.detail.value.length>5?(this.isText2=!1,this.isTrue22=!1):(this.isText2=!0,this.isTrue22=!0),this.password=t.detail.value},dianji:function(){this.isshowZhuce=!this.isshowZhuce}}};e.default=n}).call(this,i("a9ff")["default"])},"5eec":function(t,e,i){"use strict";i.r(e);var n=i("2ec8"),a=i("6f3d");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("9a29");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"37c82994",null,!1,n["a"],void 0);e["default"]=r.exports},"6f3d":function(t,e,i){"use strict";i.r(e);var n=i("5931"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"9a29":function(t,e,i){"use strict";var n=i("2f50"),a=i.n(n);a.a},b26a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.text1[data-v-37c82994],\n.text2[data-v-37c82994]{font-size:12px;color:red}.active[data-v-37c82994]{border-bottom:1px solid red}.wrapper[data-v-37c82994]{width:100%;height:100vh;background:linear-gradient(90deg,#ffeb99,#a6c1ee)}.wrapper .drop[data-v-37c82994]{width:80%;height:50vh;background-color:#fff;-webkit-transform:translateY(40%);transform:translateY(40%);margin:0 auto;border-radius:%?30?%;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.wrapper .drop .top1[data-v-37c82994]{width:50%;-webkit-transform:translateX(-38%);transform:translateX(-38%);display:flex;justify-content:space-between}.wrapper .drop .top[data-v-37c82994]{width:50%;-webkit-transform:translateX(38%);transform:translateX(38%);display:flex;justify-content:space-between}.wrapper .drop .login-logo[data-v-37c82994]{font-size:24px;font-weight:700}.wrapper .drop .validate[data-v-37c82994]{display:flex;justify-content:space-between;flex-direction:column;width:80%}.wrapper .drop .validate .active-no[data-v-37c82994]{border-bottom:1px solid #000}.wrapper .drop .validate uni-input[data-v-37c82994]{margin-top:10px;margin-bottom:10px;width:100%;height:%?60?%;font-size:12px;padding-left:10px}.wrapper .drop .try[data-v-37c82994]{font-size:14px}.wrapper .drop .login[data-v-37c82994]{width:80%;text-align:center;color:#fff;border-radius:%?20?%;background:linear-gradient(90deg,#a6c1ee,#ffeb99)}.wrapper .drop .sign[data-v-37c82994]{width:100%;display:flex;justify-content:center;font-size:14px}.wrapper .drop .sign .dianji[data-v-37c82994]{color:#afb4d1}.drop-new[data-v-37c82994]{width:80%;height:50vh;background-color:#fff;-webkit-transform:translateY(40%);transform:translateY(40%);margin:0 auto;border-radius:%?30?%;display:flex;flex-direction:column;align-items:center;justify-content:space-around}',""]),t.exports=e}}]);